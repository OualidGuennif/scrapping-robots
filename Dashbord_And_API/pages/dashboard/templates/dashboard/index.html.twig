{% extends 'base.html.twig' %}

{% block title %}Hello DashboardController!{% endblock %}

{% block body %}
<div id="page-wrapper">

		    <div class="container-fluid">

		        <!-- Page Heading -->
		        <div class="row">
		            <div class="col-lg-12">
		                <h1 class="page-header">
		                    Dashboard <small>Stream 4 Good</small>
		                </h1>
		                <ol class="breadcrumb">
		                    <li class="active">
		                        <i class="fa fa-dashboard"></i> Dashboard
		                    </li>
		                </ol>
		            </div>
		        </div>
		        <!-- /.row -->



				<div class="row">
					<div class="col-lg-12">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title"><i class="fa fa-long-arrow-right fa-fw"></i> Lancer une action</h3>
							</div>
							<div class="panel-body">
								{{ form_start(formTask) }}

								{{ form_label(formTask.robot, "Choix du robot : ") }}
								{{ form_widget(formTask.robot, {'attr': {'class': 'form-inline'}}) }}

								{{ form_label(formTask.loop) }}
								{{ form_widget(formTask.loop, {'attr': {'class': 'form-inline'}}) }}

								{{ form_widget(formTask.save) }}

								{{ form_end(formTask) }}
							</div>
						</div>
					</div>
				</div>

		        <div class="row">
		            <div class="col-lg-12">
		                <div class="panel panel-default">
		                    <div class="panel-heading">
		                        <h3 class="panel-title"><i class="fa fa-bar-chart-o fa-fw"></i> Données recoltées</h3>
		                    </div>
							<div class="panel-body">
								<div class="table-responsive">
									<table class="table" id="dataTableId">
										<thead>
										<tr>
											<th>Date</th>
											<th>Données recoltées</th>
										</tr>
										</thead>
										<tbody>
										{% for data in datas %}
											<tr>
												<td>{{data.task.date | date('d-m-Y')}}</td>
												<td>{{data.log}}</td>
											</tr>
										{% endfor %}
										</tbody>
									</table>
								</div>
							</div>

		                </div>
		            </div>
		        </div>
		        <!-- /.row -->

		    </div>
		    <!-- /.container-fluid -->

		</div>
		<!-- /#page-wrapper -->

{% endblock %}
